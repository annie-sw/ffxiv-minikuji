webpackJsonp([1],{NGu2:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n("/5sW"),c=n("BO1k"),i=n.n(c),r=[1,2,3,4,5,6,7,8,9],l=function(e){return e.reduce(function(e,t,n,s){return e+t},0)},a={consts:{scores:{6:1e4,7:36,8:720,9:360,10:80,11:252,12:108,13:72,14:54,15:180,16:72,17:180,18:119,19:36,20:306,21:1080,22:144,23:1800,24:3600},lines:{2:[0,3,6],3:[1,4,7],4:[2,5,8],6:[0,1,2],7:[3,4,5],8:[6,7,8],1:[0,4,8],5:[2,4,6]}},sum:l,newBoard:function(){for(var e=[],t=0;t<r.length;++t)e.push(0);return e},getValueCombinations:function(e,t){if(1==t){var n=[],s=!0,c=!1,r=void 0;try{for(var l,a=i()(e);!(s=(l=a.next()).done);s=!0){var d=l.value;n.push([d])}}catch(e){c=!0,r=e}finally{try{!s&&a.return&&a.return()}finally{if(c)throw r}}return n}var u=[],o=[],p=!0,x=!1,h=void 0;try{for(var f,v=i()(e);!(p=(f=v.next()).done);p=!0){var _=f.value;o.push(_);var b=!0,m=!1,O=void 0;try{for(var y,I=i()(this.getValueCombinations(e.filter(function(e){return o.indexOf(e)<0}),t-1));!(b=(y=I.next()).done);b=!0){var g=y.value;u.push([_].concat(g))}}catch(e){m=!0,O=e}finally{try{!b&&I.return&&I.return()}finally{if(m)throw O}}}}catch(e){x=!0,h=e}finally{try{!p&&v.return&&v.return()}finally{if(x)throw h}}return u},getFreeIndexes:function(e){for(var t=[],n=0;n<r.length;++n)0==e[n]&&t.push(n);return t},getLineValues:function(e,t){var n=[],s=!0,c=!1,r=void 0;try{for(var l,a=i()(this.consts.lines[t]);!(s=(l=a.next()).done);s=!0){var d=l.value;0!=e[d]&&n.push(e[d])}}catch(e){c=!0,r=e}finally{try{!s&&a.return&&a.return()}finally{if(c)throw r}}return n},getPossibleValues:function(e,t){if(0==3-t.length)return[t];var n=[],s=!0,c=!1,l=void 0;try{for(var a,d=i()(r);!(s=(a=d.next()).done);s=!0){var u=a.value;e.indexOf(u)<0&&t.indexOf(u)<0&&n.push(u)}}catch(e){c=!0,l=e}finally{try{!s&&d.return&&d.return()}finally{if(c)throw l}}var o=[],p=!0,x=!1,h=void 0;try{for(var f,v=i()(this.getValueCombinations(n,3-t.length));!(p=(f=v.next()).done);p=!0){var _=f.value;o.push(_.concat(t))}}catch(e){x=!0,h=e}finally{try{!p&&v.return&&v.return()}finally{if(x)throw h}}return o},getExpectedScores:function(e,t){var n=[],s=this.getLineValues(e,t),c=!0,r=!1,a=void 0;try{for(var d,u=i()(this.getPossibleValues(e,s));!(c=(d=u.next()).done);c=!0){var o=d.value;n.push(this.consts.scores[l(o)])}}catch(e){r=!0,a=e}finally{try{!c&&u.return&&u.return()}finally{if(r)throw a}}return n},calcExpectedPointsWithLine:function(e,t){var n=this.getExpectedScores(e,t);return 1*l(n)/n.length},calcHigherExpectedIndex:function(e){var t=this.getFreeIndexes(e),n={},s=!0,c=!1,r=void 0;try{for(var a,d=i()(t);!(s=(a=d.next()).done);s=!0){var u=a.value,o=[];for(var p in this.consts.lines)this.consts.lines[p].indexOf(u)>=0&&o.push(this.calcExpectedPointsWithLine(e,p));var x=l(o);x in n||(n[x]=[]),n[x].push(u)}}catch(e){c=!0,r=e}finally{try{!s&&d.return&&d.return()}finally{if(c)throw r}}return n},calcHigherExpectedLine:function(e){var t={};for(var n in this.consts.lines){var s=this.calcExpectedPointsWithLine(e,n);(s=parseInt(100*s)/100)in t||(t[s]=[]),t[s].push(n)}return t}},d=n("fZjL"),u=n.n(d),o={name:"scratch-board",data:function(){return{duplicatedIndexes:[]}},props:["board","expectedIndexes","selectedLine"],computed:{classObject:function(){return this.duplicatedIndexes.length>0?this.getDuplicatedIndexClass(this.duplicatedIndexes):this.expectedIndexes?this.getExpectedIndexClass(this.expectedIndexes):this.selectedLine?this.getSelectedLineClass(this.selectedLine):{}}},methods:{dispNumber:function(e){var t=this.board[e];return t||""},reset:function(){this.duplicatedIndexes=[],this.$emit("reset")},validate:function(){var e=[],t=this.board.filter(function(e,t,n){return e>0&&n.indexOf(e)===t&&t!==n.lastIndexOf(e)});return this.board.forEach(function(n,s){t.indexOf(n)>=0&&e.push(s)}),this.duplicatedIndexes=e,0==e.length},selectIndex:function(e){this.duplicatedIndexes.length>0&&this.duplicatedIndexes.indexOf(e)<0||this.$emit("selectIndex",e,this.validate)},getDuplicatedIndexClass:function(e){var t={},n=!0,s=!1,c=void 0;try{for(var r,l=i()(e);!(n=(r=l.next()).done);n=!0){t["duplicated_"+r.value]=!0}}catch(e){s=!0,c=e}finally{try{!n&&l.return&&l.return()}finally{if(s)throw c}}return t},getExpectedIndexClass:function(e){var t={};return e[Math.max.apply(null,u()(e))].forEach(function(e){t["expected_"+e]=!0}),t},getSelectedLineClass:function(e){var t={},n=e.indexes;return t["expected_line_"+e.id]=!0,n.forEach(function(e){t["expected_"+e]=!0}),t}}},p={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("table",{staticClass:"table table-bordered",attrs:{id:"scratch-board"}},[n("tbody",[n("tr",[n("th",{class:[{expected:e.classObject.expected_line_1},"col-xs-1","col-sm-1"]},[e._v("1")]),e._v(" "),n("th",{class:[{expected:e.classObject.expected_line_2},"col-xs-3","col-sm-3"]},[e._v("2")]),e._v(" "),n("th",{class:[{expected:e.classObject.expected_line_3},"col-xs-3","col-sm-3"]},[e._v("3")]),e._v(" "),n("th",{class:[{expected:e.classObject.expected_line_4},"col-xs-3","col-sm-3"]},[e._v("4")]),e._v(" "),n("th",{class:[{expected:e.classObject.expected_line_5},"col-xs-1","col-sm-1"]},[e._v("5")])]),e._v(" "),n("tr",[n("th",{class:{expected:e.classObject.expected_line_6}},[e._v("6")]),e._v(" "),n("td",{class:{duplicated:e.classObject.duplicated_0,expected:e.classObject.expected_0},on:{click:function(t){e.selectIndex(0)}}},[e._v(e._s(e.dispNumber(0)))]),e._v(" "),n("td",{class:{duplicated:e.classObject.duplicated_1,expected:e.classObject.expected_1},on:{click:function(t){e.selectIndex(1)}}},[e._v(e._s(e.dispNumber(1)))]),e._v(" "),n("td",{class:{duplicated:e.classObject.duplicated_2,expected:e.classObject.expected_2},on:{click:function(t){e.selectIndex(2)}}},[e._v(e._s(e.dispNumber(2)))])]),e._v(" "),n("tr",[n("th",{class:{expected:e.classObject.expected_line_7}},[e._v("7")]),e._v(" "),n("td",{class:{duplicated:e.classObject.duplicated_3,expected:e.classObject.expected_3},on:{click:function(t){e.selectIndex(3)}}},[e._v(e._s(e.dispNumber(3)))]),e._v(" "),n("td",{class:{duplicated:e.classObject.duplicated_4,expected:e.classObject.expected_4},on:{click:function(t){e.selectIndex(4)}}},[e._v(e._s(e.dispNumber(4)))]),e._v(" "),n("td",{class:{duplicated:e.classObject.duplicated_5,expected:e.classObject.expected_5},on:{click:function(t){e.selectIndex(5)}}},[e._v(e._s(e.dispNumber(5)))])]),e._v(" "),n("tr",[n("th",{class:{expected:e.classObject.expected_line_8}},[e._v("8")]),e._v(" "),n("td",{class:{duplicated:e.classObject.duplicated_6,expected:e.classObject.expected_6},on:{click:function(t){e.selectIndex(6)}}},[e._v(e._s(e.dispNumber(6)))]),e._v(" "),n("td",{class:{duplicated:e.classObject.duplicated_7,expected:e.classObject.expected_7},on:{click:function(t){e.selectIndex(7)}}},[e._v(e._s(e.dispNumber(7)))]),e._v(" "),n("td",{class:{duplicated:e.classObject.duplicated_8,expected:e.classObject.expected_8},on:{click:function(t){e.selectIndex(8)}}},[e._v(e._s(e.dispNumber(8)))]),e._v(" "),n("th",[n("button",{staticClass:"btn btn-default",on:{click:e.reset}},[e._v("Reset")])])])])])])},staticRenderFns:[]},x=n("VU/8")(o,p,!1,function(e){n("WHpf")},null,null).exports,h=n("gRE1"),f=n.n(h),v={name:"expected-table",props:["expectedLines"],computed:{classObject:function(){var e=f()(this.expectedLines).map(function(e){return e.score}).filter(function(e,t,n){return n.indexOf(e)===t}).sort(function(e,t){return t-e}),t={};for(var n in this.expectedLines){var s=this.expectedLines[n].score;e[0]==s?(this.$emit("selectLine",n),t["expected-1_"+n]=!0):e[1]==s&&(t["expected-2_"+n]=!0)}return t}}},_={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("table",{staticClass:"table table-striped table-responsive",attrs:{id:"expected-table"}},[e._m(0,!1,!1),e._v(" "),n("tbody",e._l(e.expectedLines,function(t,s){return n("tr",{class:{"expected-1":e.classObject["expected-1_"+s],"expected-2":e.classObject["expected-2_"+s]},on:{click:function(t){e.$emit("selectLine",s)}}},[n("th",{staticClass:"line-no"},[e._v(e._s(s))]),e._v(" "),n("td",{staticClass:"expection"},[e._v(e._s(t.score))]),e._v(" "),n("td",[e._v(e._s(t.values))])])}))])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("thead",[t("th",{staticClass:"col-xs-1 col-sm-1 line-no"},[this._v("#")]),this._v(" "),t("th",{staticClass:"col-xs-3 col-sm-2 expection"},[this._v("期待値")]),this._v(" "),t("th",{staticClass:"col-xs-9 col-sm-9"},[this._v("候補")])])}]},b={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"number-panels"},on:{click:function(t){if(t.stopPropagation(),t.target!==t.currentTarget)return null;e.selectNumber(-1)}}},[n("ul",{on:{click:function(t){if(t.stopPropagation(),t.target!==t.currentTarget)return null;e.selectNumber(-1)}}},[e._l(9,function(t){return n("li",{on:{click:function(n){e.selectNumber(t)}}},[n("span",[e._v(e._s(t))])])}),e._v(" "),n("li",{on:{click:function(t){e.selectNumber(0)}}},[n("span",[e._v("clear")])])],2)])},staticRenderFns:[]},m={name:"app",components:{ScratchBoard:x,ExpectedTable:n("VU/8")(v,_,!1,function(e){n("OIbe")},null,null).exports,NumberPanels:n("VU/8")({name:"number-panels",props:["selectNumber"]},b,!1,function(e){n("NGu2")},null,null).exports},data:function(){return{showNumberPanels:!1,selectNumber:null,board:[],expectedIndexes:null,expectedLines:null,selectedLine:null}},methods:{reset:function(){this.board=a.newBoard(),this.expectedIndexes=null,this.expectedLines=null,this.selectedLine=null},selectIndex:function(e,t){var n=this,s=function(){return n.board.filter(function(e){return e>0}).length};s()>=4&&0==this.board[e]||(this.showNumberPanels=!0,this.selectNumber=function(c){n.selectNumber=null,n.showNumberPanels=!1,c>=0&&(n.expectedIndexes=null,n.expectedLines=null,n.selectedLine=null,n.board.splice(e,1,c),t()&&n.calcExpection(s()))})},selectLine:function(e){this.selectedLine={id:e,indexes:a.consts.lines[e]}},calcExpection:function(e){if(e<4)this.expectedIndexes=a.calcHigherExpectedIndex(this.board);else{var t={};for(var n in a.consts.lines){var s=a.getExpectedScores(this.board,n).sort(function(e,t){return t-e});t[n]={score:100*a.sum(s)/s.length/100,values:s}}this.expectedLines=t}}},mounted:function(){this.reset()}},O={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("ScratchBoard",{attrs:{board:this.board,expectedIndexes:this.expectedIndexes,selectedLine:this.selectedLine},on:{reset:this.reset,selectIndex:this.selectIndex}}),this._v(" "),t("ExpectedTable",{attrs:{expectedLines:this.expectedLines},on:{selectLine:this.selectLine}}),this._v(" "),this.showNumberPanels?t("NumberPanels",{attrs:{selectNumber:this.selectNumber}}):this._e()],1)},staticRenderFns:[]},y=n("VU/8")(m,O,!1,function(e){n("WyOe")},null,null).exports;s.a.config.productionTip=!1,new s.a({el:"#app",render:function(e){return e(y)}})},OIbe:function(e,t){},WHpf:function(e,t){},WyOe:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.1a9b25a97c936a659ade.js.map